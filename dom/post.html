<!DOCTYPE html>
<html lang="en" style="color-scheme: dark">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <h2>Method: POST</h2>
    <form id="mform">
      <input name="id" type="number" placeholder="id" value="4" />
      <input name="title" type="text" placeholder="title" value="title" />
      <input name="body" type="text" placeholder="body" value="body here" />
      <input type="submit" value="Send" />
    </form>

    <script>
      const mform = document.querySelector("#mform");
      //const baseurl = "http://localhost:3000/posts";
      const baseurl = "https://vercel-restful-api.vercel.app/posts";

      mform.onsubmit = function (event) {
        event.preventDefault();
        const data = new FormData(mform);
        console.log(data.get("id"), data.get("title"), data.get("body"));
        const objs = Object.fromEntries(data);
        console.log(parseInt(objs.id));

        // get the id and parseInt
        const idToNumber2 = parseInt(objs.id);
        objs.id = idToNumber2;

        const ajax = new XMLHttpRequest();

        ajax.open("POST", baseurl);
        ajax.setRequestHeader("content-Type", "application/json");
        const json = JSON.stringify(objs);
        ajax.send(json);
      };
    </script>
  </body>
</html>
